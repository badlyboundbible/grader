<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Calculator</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Modern assessment calculator with scoring and grading system">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Assessment Calculator">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512x512.png">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Custom animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .8; }
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const ScoringCalculator = () => {
          const [answers, setAnswers] = useState(Array(10).fill(null));
          const [modifier, setModifier] = useState('neutral');
          const [showResults, setShowResults] = useState(false);

          const handleAnswerChange = (questionIndex, value) => {
            const newAnswers = [...answers];
            newAnswers[questionIndex] = value;
            setAnswers(newAnswers);
          };

          const calculateScore = () => {
            return answers.reduce((total, answer) => {
              if (answer === 'yes') return total + 1;
              if (answer === 'no') return total - 1;
              return total; // neutral = 0
            }, 0);
          };

          const getLetterGrade = (score) => {
            const gradeMap = {
              10: 'A',
              9: 'B',
              8: 'C',
              7: 'D',
              6: 'E',
              5: 'F',
              4: 'G',
              3: 'H',
              2: 'I',
              1: 'J',
              0: 'K',
              '-1': 'L',
              '-2': 'M',
              '-3': 'N',
              '-4': 'O',
              '-5': 'P',
              '-6': 'Q',
              '-7': 'R',
              '-8': 'S',
              '-9': 'T',
              '-10': 'U'
            };
            return gradeMap[score.toString()] || 'U';
          };

          const getFinalGrade = () => {
            const score = calculateScore();
            const letterGrade = getLetterGrade(score);
            
            if (modifier === 'positive') return letterGrade + '+';
            if (modifier === 'negative') return letterGrade + '-';
            return letterGrade;
          };

          const handleSubmit = () => {
            const allAnswered = answers.every(answer => answer !== null);
            if (allAnswered) {
              setShowResults(true);
            }
          };

          const resetCalculator = () => {
            setAnswers(Array(10).fill(null));
            setModifier('neutral');
            setShowResults(false);
          };

          const allQuestionsAnswered = answers.every(answer => answer !== null);

          const getQuestionLabel = (index) => {
            const labels = ['K', 'P', 'A', 'P', 'E', 'C', 'M', 'K', 'I', 'C'];
            return labels[index];
          };

          const getQuestionBgColor = (index) => {
            if (index >= 0 && index <= 2) return 'bg-gradient-to-br from-pink-50 to-pink-100 border-pink-200';
            if (index >= 3 && index <= 5) return 'bg-gradient-to-br from-cyan-50 to-cyan-100 border-cyan-200';
            if (index >= 6 && index <= 9) return 'bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200';
            return 'bg-gray-50';
          };

          const getQuestionAccentColor = (index) => {
            if (index >= 0 && index <= 2) return 'bg-pink-500';
            if (index >= 3 && index <= 5) return 'bg-cyan-500';
            if (index >= 6 && index <= 9) return 'bg-yellow-500';
            return 'bg-gray-500';
          };

          const getProgressPercentage = () => {
            const answered = answers.filter(answer => answer !== null).length;
            return (answered / 10) * 100;
          };

          return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50" },
            // Header
            React.createElement('div', { className: "bg-gradient-to-r from-indigo-600 to-purple-600 text-white" },
              React.createElement('div', { className: "px-4 py-6 sm:px-6" },
                React.createElement('h1', { className: "text-2xl sm:text-3xl font-bold text-center" },
                  "❤️ Assessment Calculator"
                ),
                React.createElement('p', { className: "text-center text-indigo-100 mt-2 text-sm sm:text-base" },
                  "Complete all questions to get your grade"
                )
              ),
              
              // Progress Bar
              !showResults && React.createElement('div', { className: "px-4 pb-4" },
                React.createElement('div', { className: "bg-white/20 rounded-full h-2 mb-2" },
                  React.createElement('div', { 
                    className: "bg-white rounded-full h-2 transition-all duration-300 ease-out",
                    style: { width: `${getProgressPercentage()}%` }
                  })
                ),
                React.createElement('p', { className: "text-center text-indigo-100 text-sm" },
                  `${answers.filter(a => a !== null).length} of 10 questions completed`
                )
              )
            ),

            React.createElement('div', { className: "px-4 py-6 sm:px-6 max-w-2xl mx-auto" },
              !showResults ? 
                // Questions Section
                React.createElement('div', { className: "space-y-4" },
                  // Questions
                  ...answers.map((answer, index) => 
                    React.createElement('div', { 
                      key: index,
                      className: `p-6 border-2 rounded-2xl shadow-sm transition-all duration-200 hover:shadow-md ${getQuestionBgColor(index)}`
                    },
                      React.createElement('div', { className: "flex items-center justify-between mb-6" },
                        React.createElement('div', { className: `w-12 h-12 rounded-2xl ${getQuestionAccentColor(index)} flex items-center justify-center text-white font-bold text-xl shadow-lg` },
                          getQuestionLabel(index)
                        ),
                        answer && React.createElement('div', { className: "w-8 h-8 bg-green-500 rounded-full flex items-center justify-center" },
                          React.createElement('svg', { className: "w-5 h-5 text-white", fill: "currentColor", viewBox: "0 0 20 20" },
                            React.createElement('path', { fillRule: "evenodd", d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z", clipRule: "evenodd" })
                          )
                        )
                      ),
                      
                      React.createElement('div', { className: "grid grid-cols-3 gap-3" },
                        // Yes Option
                        React.createElement('label', { className: "block cursor-pointer" },
                          React.createElement('input', {
                            type: "radio",
                            name: `question-${index}`,
                            value: "yes",
                            checked: answer === 'yes',
                            onChange: () => handleAnswerChange(index, 'yes'),
                            className: "sr-only"
                          }),
                          React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${answer === 'yes' ? 'bg-green-500 border-green-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-green-300 hover:bg-green-50'}` },
                            React.createElement('div', { className: "flex items-center space-x-3" },
                              React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${answer === 'yes' ? 'bg-white' : 'bg-green-100'}` },
                                React.createElement('svg', { className: `w-4 h-4 ${answer === 'yes' ? 'text-green-500' : 'text-green-600'}`, fill: "currentColor", viewBox: "0 0 20 20" },
                                  React.createElement('path', { fillRule: "evenodd", d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z", clipRule: "evenodd" })
                                )
                              ),
                              React.createElement('span', { className: `font-semibold ${answer === 'yes' ? 'text-white' : 'text-gray-800'}` }, "Yes")
                            )
                          )
                        ),
                        
                        // Neutral Option
                        React.createElement('label', { className: "block cursor-pointer" },
                          React.createElement('input', {
                            type: "radio",
                            name: `question-${index}`,
                            value: "neutral",
                            checked: answer === 'neutral',
                            onChange: () => handleAnswerChange(index, 'neutral'),
                            className: "sr-only"
                          }),
                          React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${answer === 'neutral' ? 'bg-gray-500 border-gray-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-gray-300 hover:bg-gray-50'}` },
                            React.createElement('div', { className: "flex items-center space-x-3" },
                              React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${answer === 'neutral' ? 'bg-white' : 'bg-gray-100'}` },
                                React.createElement('div', { className: `w-3 h-3 rounded-full ${answer === 'neutral' ? 'bg-gray-500' : 'bg-gray-400'}` })
                              ),
                              React.createElement('span', { className: `font-semibold ${answer === 'neutral' ? 'text-white' : 'text-gray-800'}` }, "Neutral")
                            )
                          )
                        ),
                        
                        // No Option
                        React.createElement('label', { className: "block cursor-pointer" },
                          React.createElement('input', {
                            type: "radio",
                            name: `question-${index}`,
                            value: "no",
                            checked: answer === 'no',
                            onChange: () => handleAnswerChange(index, 'no'),
                            className: "sr-only"
                          }),
                          React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${answer === 'no' ? 'bg-red-500 border-red-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-red-300 hover:bg-red-50'}` },
                            React.createElement('div', { className: "flex items-center space-x-3" },
                              React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${answer === 'no' ? 'bg-white' : 'bg-red-100'}` },
                                React.createElement('svg', { className: `w-4 h-4 ${answer === 'no' ? 'text-red-500' : 'text-red-600'}`, fill: "currentColor", viewBox: "0 0 20 20" },
                                  React.createElement('path', { fillRule: "evenodd", d: "M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z", clipRule: "evenodd" })
                                )
                              ),
                              React.createElement('span', { className: `font-semibold ${answer === 'no' ? 'text-white' : 'text-gray-800'}` }, "No")
                            )
                          )
                        )
                      )
                    )
                  ),
                  
                  // Final Assessment (continuing in next part due to length...)
                  React.createElement('div', { className: "p-6 border-2 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 border-blue-200 shadow-sm" },
                    React.createElement('div', { className: "flex items-center justify-between mb-6" },
                      React.createElement('div', { className: "w-12 h-12 rounded-2xl bg-blue-500 flex items-center justify-center text-white font-bold text-xl shadow-lg" }, "⭐"),
                      (modifier !== 'neutral') && React.createElement('div', { className: "w-8 h-8 bg-green-500 rounded-full flex items-center justify-center" },
                        React.createElement('svg', { className: "w-5 h-5 text-white", fill: "currentColor", viewBox: "0 0 20 20" },
                          React.createElement('path', { fillRule: "evenodd", d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z", clipRule: "evenodd" })
                        )
                      )
                    ),
                    
                    React.createElement('div', { className: "grid grid-cols-3 gap-3" },
                      // Positive
                      React.createElement('label', { className: "block cursor-pointer" },
                        React.createElement('input', {
                          type: "radio",
                          name: "modifier",
                          value: "positive",
                          checked: modifier === 'positive',
                          onChange: () => setModifier('positive'),
                          className: "sr-only"
                        }),
                        React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${modifier === 'positive' ? 'bg-green-500 border-green-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-green-300 hover:bg-green-50'}` },
                          React.createElement('div', { className: "flex items-center space-x-3" },
                            React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${modifier === 'positive' ? 'bg-white' : 'bg-green-100'}` },
                              React.createElement('svg', { className: `w-4 h-4 ${modifier === 'positive' ? 'text-green-500' : 'text-green-600'}`, fill: "currentColor", viewBox: "0 0 20 20" },
                                React.createElement('path', { fillRule: "evenodd", d: "M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z", clipRule: "evenodd" })
                              )
                            ),
                            React.createElement('span', { className: `font-semibold ${modifier === 'positive' ? 'text-white' : 'text-gray-800'}` }, "Positive")
                          )
                        )
                      ),
                      
                      // Neutral
                      React.createElement('label', { className: "block cursor-pointer" },
                        React.createElement('input', {
                          type: "radio",
                          name: "modifier",
                          value: "neutral",
                          checked: modifier === 'neutral',
                          onChange: () => setModifier('neutral'),
                          className: "sr-only"
                        }),
                        React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${modifier === 'neutral' ? 'bg-gray-500 border-gray-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-gray-300 hover:bg-gray-50'}` },
                          React.createElement('div', { className: "flex items-center space-x-3" },
                            React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${modifier === 'neutral' ? 'bg-white' : 'bg-gray-100'}` },
                              React.createElement('div', { className: `w-3 h-3 rounded-full ${modifier === 'neutral' ? 'bg-gray-500' : 'bg-gray-400'}` })
                            ),
                            React.createElement('span', { className: `font-semibold ${modifier === 'neutral' ? 'text-white' : 'text-gray-800'}` }, "Neutral")
                          )
                        )
                      ),
                      
                      // Negative
                      React.createElement('label', { className: "block cursor-pointer" },
                        React.createElement('input', {
                          type: "radio",
                          name: "modifier",
                          value: "negative",
                          checked: modifier === 'negative',
                          onChange: () => setModifier('negative'),
                          className: "sr-only"
                        }),
                        React.createElement('div', { className: `p-4 rounded-xl border-2 transition-all duration-200 ${modifier === 'negative' ? 'bg-red-500 border-red-500 text-white shadow-lg transform scale-[1.02]' : 'bg-white border-gray-200 hover:border-red-300 hover:bg-red-50'}` },
                          React.createElement('div', { className: "flex items-center space-x-3" },
                            React.createElement('div', { className: `w-6 h-6 rounded-full flex items-center justify-center ${modifier === 'negative' ? 'bg-white' : 'bg-red-100'}` },
                              React.createElement('svg', { className: `w-4 h-4 ${modifier === 'negative' ? 'text-red-500' : 'text-red-600'}`, fill: "currentColor", viewBox: "0 0 20 20" },
                                React.createElement('path', { fillRule: "evenodd", d: "M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z", clipRule: "evenodd" })
                              )
                            ),
                            React.createElement('span', { className: `font-semibold ${modifier === 'negative' ? 'text-white' : 'text-gray-800'}` }, "Negative")
                          )
                        )
                      )
                    )
                  ),
                  
                  // Calculate Button
                  React.createElement('div', { className: "mt-8" },
                    React.createElement('button', {
                      onClick: handleSubmit,
                      disabled: !allQuestionsAnswered,
                      className: `w-full py-4 rounded-2xl font-bold text-lg transition-all duration-200 transform ${allQuestionsAnswered ? 'bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`
                    },
                      '🎯 Calculate My Grade'
                    )
                  )
                ) :
                
                // Results Screen
                React.createElement('div', { className: "text-center space-y-6" },
                  // Grade Display
                  React.createElement('div', { className: "bg-gradient-to-br from-purple-500 to-indigo-600 text-white p-8 rounded-3xl shadow-2xl transform hover:scale-[1.02] transition-transform duration-200" },
                    React.createElement('div', { className: "text-6xl sm:text-8xl font-bold mb-4 animate-pulse" }, getFinalGrade()),
                    React.createElement('div', { className: "text-xl sm:text-2xl mb-2" }, "Your Final Grade"),
                    React.createElement('div', { className: "text-lg text-purple-100" }, `Score: ${calculateScore()} out of 10 points`)
                  ),
                  
                  // Score Breakdown
                  React.createElement('div', { className: "bg-white p-6 rounded-2xl shadow-lg border" },
                    React.createElement('h3', { className: "text-lg font-bold mb-4 text-gray-800" }, "📊 Score Breakdown"),
                    React.createElement('div', { className: "grid grid-cols-2 gap-4 text-sm" },
                      React.createElement('div', { className: "bg-green-50 p-3 rounded-xl" },
                        React.createElement('div', { className: "text-green-700 font-semibold" }, "Yes Answers"),
                        React.createElement('div', { className: "text-2xl font-bold text-green-600" }, answers.filter(a => a === 'yes').length)
                      ),
                      React.createElement('div', { className: "bg-gray-50 p-3 rounded-xl" },
                        React.createElement('div', { className: "text-gray-700 font-semibold" }, "Neutral Answers"),
                        React.createElement('div', { className: "text-2xl font-bold text-gray-600" }, answers.filter(a => a === 'neutral').length)
                      ),
                      React.createElement('div', { className: "bg-red-50 p-3 rounded-xl" },
                        React.createElement('div', { className: "text-red-700 font-semibold" }, "No Answers"),
                        React.createElement('div', { className: "text-2xl font-bold text-red-600" }, answers.filter(a => a === 'no').length)
                      ),
                      React.createElement('div', { className: "bg-blue-50 p-3 rounded-xl" },
                        React.createElement('div', { className: "text-blue-700 font-semibold" }, "Assessment"),
                        React.createElement('div', { className: "text-lg font-bold text-blue-600 capitalize" }, modifier)
                      )
                    )
                  ),
                  
                  // Reset Button
                  React.createElement('button', {
                    onClick: resetCalculator,
                    className: "w-full py-4 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200"
                  }, "🔄 Take Assessment Again")
                )
            )
          );
        };

        ReactDOM.render(React.createElement(ScoringCalculator), document.getElementById('root'));
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        // Silently fail in development/preview environments
                        if (window.location.hostname !== 'localhost' && !window.location.hostname.includes('github.io')) {
                            console.log('SW registration skipped (not in production environment)');
                        } else {
                            console.log('SW registration failed: ', registrationError);
                        }
                    });
            });
        }
    </script>
</body>
</html>